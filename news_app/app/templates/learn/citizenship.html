{% extends "base.html" %}

{% block title %}Citizenship Guide - Fiascha Portal{% endblock %}

{% block content %}
<!-- Header -->
<div class="row mb-4">
    <div class="col-12">
        <div class="d-flex align-items-center mb-3">
            <a href="{{ url_for('learn.index') }}" class="btn btn-outline-secondary me-3">
                <i class="bi bi-arrow-left"></i> Back to Learn
            </a>
            <h1 class="mb-0">
                <i class="bi bi-flag-fill text-primary"></i> Fiascha Citizenship Guide
            </h1>
        </div>
        <p class="lead text-muted">Everything you need to know about being a Fiaschan citizen</p>
    </div>
</div>

<!-- Table of Contents -->
<div class="row mb-4">
    <div class="col-lg-3">
        <div class="card shadow-sm sticky-top" style="top: 20px;">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0"><i class="bi bi-list-ul"></i> Contents</h5>
            </div>
            <div class="list-group list-group-flush">
                <a href="#overview" class="list-group-item list-group-item-action">Overview</a>
                <a href="#ranks" class="list-group-item list-group-item-action">Citizen Ranks</a>
                <a href="#rights" class="list-group-item list-group-item-action">Rights & Duties</a>
                <a href="#services" class="list-group-item list-group-item-action">Services</a>
                <a href="#apply" class="list-group-item list-group-item-action">How to Apply</a>
            </div>
        </div>
    </div>

    <div class="col-lg-9">
        <!-- Overview Section -->
        <div id="overview" class="mb-5">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h2 class="card-title"><i class="bi bi-info-circle text-primary"></i> Overview</h2>
                    <hr>
                    <p class="lead">Welcome to the Fiascha Micronation! We are a vibrant community dedicated to culture, learning, and collaboration.</p>

                    <div class="row g-3 mt-3">
                        <div class="col-md-6">
                            <div class="p-3 bg-light rounded">
                                <h5><i class="bi bi-calendar-event text-success"></i> Founded</h5>
                                <p class="mb-0">December 21, 2022</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="p-3 bg-light rounded">
                                <h5><i class="bi bi-people text-info"></i> Citizens</h5>
                                <p class="mb-0">Growing community</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="p-3 bg-light rounded">
                                <h5><i class="bi bi-translate text-warning"></i> Official Languages</h5>
                                <p class="mb-0">Romanian, English, French, German</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="p-3 bg-light rounded">
                                <h5><i class="bi bi-mortarboard text-danger"></i> Focus Areas</h5>
                                <p class="mb-0">Education, Culture, Technology</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Citizen Ranks Section -->
        <div id="ranks" class="mb-5">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h2 class="card-title"><i class="bi bi-award text-warning"></i> Citizen Ranks</h2>
                    <hr>
                    <p>Fiascha recognizes various ranks based on contributions and roles within the community:</p>

                    <div class="accordion" id="ranksAccordion">
                        <!-- President -->
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#rankPresident">
                                    <span class="badge bg-danger me-2">President</span> Head of State
                                </button>
                            </h2>
                            <div id="rankPresident" class="accordion-collapse collapse show" data-bs-parent="#ranksAccordion">
                                <div class="accordion-body">
                                    <strong>The President</strong> is the highest authority in Fiascha, responsible for overall governance, major decisions, and representing the nation.
                                    <ul class="mt-2">
                                        <li>Full administrative access</li>
                                        <li>Can create and manage all content</li>
                                        <li>Appoints Ministers and Officials</li>
                                        <li>Final decision-making authority</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Minister -->
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#rankMinister">
                                    <span class="badge bg-warning text-dark me-2">Minister</span> Government Official
                                </button>
                            </h2>
                            <div id="rankMinister" class="accordion-collapse collapse" data-bs-parent="#ranksAccordion">
                                <div class="accordion-body">
                                    <strong>Ministers</strong> oversee specific departments (Education, Culture, Development, etc.) and help govern Fiascha.
                                    <ul class="mt-2">
                                        <li>Can write and publish news articles</li>
                                        <li>Manage their respective departments</li>
                                        <li>Participate in governance decisions</li>
                                        <li>Special recognition badge</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Journalist -->
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#rankJournalist">
                                    <span class="badge bg-info me-2">Journalist</span> News Writer
                                </button>
                            </h2>
                            <div id="rankJournalist" class="accordion-collapse collapse" data-bs-parent="#ranksAccordion">
                                <div class="accordion-body">
                                    <strong>Journalists</strong> are trusted citizens who contribute to Fiascha's news and information ecosystem.
                                    <ul class="mt-2">
                                        <li>Can create, edit, and publish news articles</li>
                                        <li>Write about government, culture, and citizen achievements</li>
                                        <li>Special journalist badge</li>
                                        <li>Byline on all published articles</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Official -->
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#rankOfficial">
                                    <span class="badge bg-success me-2">Official</span> Recognized Contributor
                                </button>
                            </h2>
                            <div id="rankOfficial" class="accordion-collapse collapse" data-bs-parent="#ranksAccordion">
                                <div class="accordion-body">
                                    <strong>Officials</strong> are recognized for their significant contributions to the Fiascha community.
                                    <ul class="mt-2">
                                        <li>Special recognition badge</li>
                                        <li>Access to exclusive channels</li>
                                        <li>Can assist with community projects</li>
                                        <li>Eligible for promotion to higher ranks</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Citizen -->
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#rankCitizen">
                                    <span class="badge bg-secondary me-2">Citizen</span> General Member
                                </button>
                            </h2>
                            <div id="rankCitizen" class="accordion-collapse collapse" data-bs-parent="#ranksAccordion">
                                <div class="accordion-body">
                                    <strong>Citizens</strong> are the foundation of Fiascha, with full access to learning resources and community features.
                                    <ul class="mt-2">
                                        <li>Access to all learning courses</li>
                                        <li>Read news and announcements</li>
                                        <li>Explore geography and history</li>
                                        <li>Participate in community events</li>
                                        <li>Eligible for rank advancement</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Rights & Duties Section -->
        <div id="rights" class="mb-5">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h2 class="card-title"><i class="bi bi-shield-check text-success"></i> Rights & Duties</h2>
                    <hr>

                    <div class="row">
                        <div class="col-md-6">
                            <h4 class="text-success"><i class="bi bi-check-circle"></i> Your Rights</h4>
                            <ul>
                                <li>Access to all educational resources</li>
                                <li>Freedom of learning and expression</li>
                                <li>Equal treatment regardless of rank</li>
                                <li>Right to apply for rank advancement</li>
                                <li>Participate in community discussions</li>
                                <li>Access to public information</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h4 class="text-primary"><i class="bi bi-clipboard-check"></i> Your Duties</h4>
                            <ul>
                                <li>Respect fellow citizens</li>
                                <li>Follow community guidelines</li>
                                <li>Contribute positively when possible</li>
                                <li>Report issues or concerns</li>
                                <li>Help maintain a welcoming environment</li>
                                <li>Represent Fiascha values</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Services Section -->
        <div id="services" class="mb-5">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h2 class="card-title"><i class="bi bi-gear text-info"></i> Citizen Services</h2>
                    <hr>

                    <div class="row g-3">
                        <div class="col-md-6">
                            <div class="card border-primary">
                                <div class="card-body">
                                    <h5><i class="bi bi-mortarboard text-primary"></i> Learning Platform</h5>
                                    <p class="mb-0 small">Access courses in Romanian, English, French, German, Chess, and more</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card border-success">
                                <div class="card-body">
                                    <h5><i class="bi bi-newspaper text-success"></i> News & Updates</h5>
                                    <p class="mb-0 small">Stay informed with official announcements and community news</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card border-info">
                                <div class="card-body">
                                    <h5><i class="bi bi-globe text-info"></i> Geography Explorer</h5>
                                    <p class="mb-0 small">Discover Fiascha's territories, maps, and historical timeline</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card border-warning">
                                <div class="card-body">
                                    <h5><i class="bi bi-person-badge text-warning"></i> Citizen ID</h5>
                                    <p class="mb-0 small">Unique identifier (e.g., FSC-2026-001) for all citizens</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- How to Apply Section -->
        <div id="apply" class="mb-5">
            <div class="card shadow-sm border-primary">
                <div class="card-body">
                    <h2 class="card-title"><i class="bi bi-pencil-square text-primary"></i> How to Apply for Citizenship</h2>
                    <hr>

                    <div class="alert alert-info">
                        <h5 class="alert-heading"><i class="bi bi-info-circle"></i> Application Process</h5>
                        <p class="mb-0">Currently, citizenship is granted by the President. Contact the administration to express your interest in joining Fiascha!</p>
                    </div>

                    <h5 class="mt-4">What to include in your application:</h5>
                    <ol>
                        <li><strong>Introduction:</strong> Tell us about yourself</li>
                        <li><strong>Interests:</strong> What aspects of Fiascha interest you?</li>
                        <li><strong>Contributions:</strong> How would you like to contribute?</li>
                        <li><strong>Languages:</strong> Which languages do you speak?</li>
                    </ol>

                    <div class="text-center mt-4">
                        <a href="{{ url_for('news.index') }}" class="btn btn-primary btn-lg">
                            <i class="bi bi-envelope"></i> Contact Administration
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block extra_js %}
<style>
.sticky-top {
    z-index: 1020;
}

.list-group-item-action:hover {
    background-color: #e7f1ff;
}

.card {
    scroll-margin-top: 20px;
}
</style>

<script>
// Smooth scroll for navigation links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});

// Highlight active section in navigation
const sections = document.querySelectorAll('[id]');
const navLinks = document.querySelectorAll('.list-group-item-action');

window.addEventListener('scroll', () => {
    let current = '';
    sections.forEach(section => {
        const sectionTop = section.offsetTop;
        const sectionHeight = section.clientHeight;
        if (window.pageYOffset >= sectionTop - 100) {
            current = section.getAttribute('id');
        }
    });

    navLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === `#${current}`) {
            link.classList.add('active');
        }
    });
});
</script>
{% endblock %}
